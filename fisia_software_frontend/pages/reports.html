<!DOCTYPE html>
<html class="light" lang="es">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Fisia - Analíticas y Reportes</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#4A9A8A",
              "secondary": "#5F86D3",
              "background-light": "#F4F7F6",
              "background-dark": "#112117",
              "neutral-light": "#E1E8E7",
              "neutral-dark": "#333D47",
              "warning": "#F5C54B",
              "danger": "#E57373",
              "success": "#20df6c",
              "card-light": "#FFFFFF",
              "card-dark": "#1F2937",
              "text-light": "#111827",
              "text-dark": "#F9FAFB",
              "subtext-light": "#6B7280",
              "subtext-dark": "#9CA3AF",
              "border-light": "#E5E7EB",
              "border-dark": "#374151"
            },
            fontFamily: {
              display: ["Inter", "sans-serif"]
            },
            borderRadius: {
              DEFAULT: "0.5rem",
              lg: "0.75rem",
              xl: "1rem",
              full: "9999px"
            }
          }
        }
      };
    </script>
    <style>
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }
    </style>
  </head>
  <body class="font-display bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark" data-page="reports">
    <div class="relative flex min-h-screen w-full">
      <!-- SideNavBar -->
      <aside class="flex h-screen flex-col bg-white dark:bg-background-dark border-r border-neutral-light dark:border-neutral-dark w-64 p-4 sticky top-0">
        <div class="flex flex-col gap-4">
          <div class="flex items-center gap-3 p-2">
            <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" data-alt="Profile picture of Dr. Ana Torres" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBW5Rhpmggby9T4A_qYrVJW0fkaK-5h9Gqul10AyVK8AcyqzZeYXkmjkMymsItQ6dcJwrogWjhE5LJbCYg1_d1fJU4f3QYLQ6gv9tFm4sq5aCxmo4d3_ORwUeZuOyvW9odPO4KkbTXHYitN2MejLd1pKJRBbdYXjLKLsuToh5JYDkH5YqPtX1lw6Uo2vXDP0zwsSih7ycQiu2ZT84uOPD5Q4qXqGSqzAd5Ajz0LI5O7C4tk7FCg29ZTYKdRcd4t-PyK3xs5xPBp97o");'></div>
            <div class="flex flex-col">
              <h1 class="text-neutral-dark dark:text-white text-base font-medium leading-normal">Dr. Ana Torres</h1>
              <p class="text-gray-500 dark:text-gray-400 text-sm font-normal leading-normal">Administrator</p>
            </div>
          </div>
          <nav class="flex flex-col gap-2 mt-4" data-nav>
            <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-neutral-600 dark:text-neutral-200 hover:bg-primary/10" href="index.html" data-nav-link="dashboard">
              <span class="material-symbols-outlined">dashboard</span>
              <p class="text-sm font-medium leading-normal">Dashboard</p>
            </a>
            <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-neutral-600 dark:text-neutral-200 hover:bg-primary/10" href="calendar.html" data-nav-link="calendar">
              <span class="material-symbols-outlined">calendar_month</span>
              <p class="text-sm font-medium leading-normal">Agenda</p>
            </a>
            <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-neutral-600 dark:text-neutral-200 hover:bg-primary/10" href="patient.html" data-nav-link="patient">
              <span class="material-symbols-outlined">groups</span>
              <p class="text-sm font-medium leading-normal">Pacientes</p>
            </a>
            <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-neutral-600 dark:text-neutral-200 hover:bg-primary/10" href="billing.html" data-nav-link="billing">
              <span class="material-symbols-outlined">receipt_long</span>
              <p class="text-sm font-medium leading-normal">Facturación</p>
            </a>
            <a class="flex items-center gap-3 px-3 py-2 rounded-lg text-neutral-600 dark:text-neutral-200 hover:bg-primary/10" href="reports.html" data-nav-link="reports">
              <span class="material-symbols-outlined">bar_chart</span>
              <p class="text-sm font-medium leading-normal">Analítica</p>
            </a>
          </nav>
        </div>
        <div class="mt-auto flex flex-col gap-1">
          <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10" href="#">
            <span class="material-symbols-outlined">settings</span>
            <p class="text-sm font-medium leading-normal">Settings</p>
          </a>
          <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10" href="#">
            <span class="material-symbols-outlined">help_outline</span>
            <p class="text-sm font-medium leading-normal">Help</p>
          </a>
        </div>
      </aside>
      <div class="flex-1 flex flex-col">
        <!-- TopNavBar -->
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-neutral-light dark:border-neutral-dark px-10 py-3 bg-white dark:bg-background-dark sticky top-0 z-10">
          <div class="flex items-center gap-8">
            <div class="flex items-center gap-3 text-neutral-dark dark:text-white">
              <div class="size-6 text-primary">
                <svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.3,6.3c-0.6,0.5-0.6,1.4,0,1.9l3.3,3.3c0.5,0.5,1.4,0.5,1.9,0s0.5-1.4,0-1.9L14.2,6.3C13.7,5.8,12.8,5.8,12.3,6.3z M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,12,20z M7,10.1l-1.4,1.4c-0.2,0.2-0.2,0.5,0,0.7l4.6,4.6C10.3,17,10.5,17,10.7,17s0.4-0.1,0.5-0.3l1.4-1.4c0.2-0.2,0.2-0.5,0-0.7L8.1,10.1C7.8,9.8,7.3,9.8,7,10.1z"></path></svg>
              </div>
              <h2 class="text-lg font-bold leading-tight tracking-[-0.015em]">Fisia</h2>
            </div>
            <label class="flex flex-col min-w-40 !h-10 max-w-sm">
              <div class="flex w-full flex-1 items-stretch rounded-lg h-full">
                <div class="text-gray-500 dark:text-gray-400 flex border-none bg-neutral-light/50 dark:bg-neutral-dark/40 items-center justify-center pl-4 rounded-l-lg border-r-0">
                  <span class="material-symbols-outlined">search</span>
                </div>
                <input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-neutral-dark dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border-none bg-neutral-light/50 dark:bg-neutral-dark/40 h-full placeholder:text-gray-500 dark:placeholder:text-gray-400 px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal" placeholder="Search patients, appointments..." value="" />
              </div>
            </label>
          </div>
          <div class="flex gap-2">
            <button class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 w-10 bg-neutral-light/50 dark:bg-neutral-dark/40 hover:bg-neutral-light dark:hover:bg-neutral-dark/60 text-neutral-dark dark:text-white gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0">
              <span class="material-symbols-outlined">notifications</span>
            </button>
            <button class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 w-10 bg-neutral-light/50 dark:bg-neutral-dark/40 hover:bg-neutral-light dark:hover:bg-neutral-dark/60 text-neutral-dark dark:text-white gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0">
              <span class="material-symbols-outlined">account_circle</span>
            </button>
          </div>
        </header>
        <main class="flex-1 p-10 overflow-y-auto">
          <div class="mx-auto max-w-7xl space-y-10">
            <div class="flex flex-wrap items-center justify-between gap-4">
              <div class="flex min-w-72 flex-col gap-2">
                <h1 class="text-neutral-dark dark:text-white text-4xl font-black leading-tight tracking-[-0.033em]">Analíticas y Reportes</h1>
                <p class="text-subtext-light dark:text-subtext-dark text-base font-normal leading-normal">Monitoriza rápidamente no-shows, adherencia y desempeño financiero.</p>
              </div>
              <div class="flex gap-2 flex-wrap">
                <button class="flex h-10 items-center gap-2 rounded-lg border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark px-4 text-sm font-semibold text-text-light dark:text-text-dark hover:bg-background-light dark:hover:bg-background-dark transition-colors" type="button" data-action="reports-export">
                  <span class="material-symbols-outlined text-base">file_download</span>
                  Descargar informe
                </button>
                <button class="flex h-10 items-center gap-2 rounded-lg bg-primary px-4 text-sm font-bold text-white hover:bg-primary/90 transition-colors" type="button" data-action="open-flow" data-flow-start="reminder">
                  <span class="material-symbols-outlined text-base">event</span>
                  Programar reporte
                </button>
              </div>
            </div>
            <div class="flex flex-col gap-4 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-6">
              <h2 class="text-lg font-semibold text-text-light dark:text-text-dark">Rango temporal</h2>
              <div class="grid gap-3 sm:grid-cols-2 lg:grid-cols-5" data-reports-range>
                <button class="flex items-center gap-2 rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark px-3 py-2 text-sm font-medium text-subtext-light dark:text-subtext-dark hover:border-primary hover:text-primary transition-colors" type="button" data-action="reports-range" data-range="today">
                  <span class="material-symbols-outlined text-lg">today</span>
                  Hoy
                </button>
                <button class="flex items-center gap-2 rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark px-3 py-2 text-sm font-medium text-subtext-light dark:text-subtext-dark hover:border-primary hover:text-primary transition-colors" type="button" data-action="reports-range" data-range="week">
                  <span class="material-symbols-outlined text-lg">view_week</span>
                  Últimos 7 días
                </button>
                <button class="flex items-center gap-2 rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark px-3 py-2 text-sm font-medium text-subtext-light dark:text-subtext-dark hover:border-primary hover:text-primary transition-colors" type="button" data-action="reports-range" data-range="month">
                  <span class="material-symbols-outlined text-lg">calendar_month</span>
                  Mes actual
                </button>
                <button class="flex items-center gap-2 rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark px-3 py-2 text-sm font-medium text-subtext-light dark:text-subtext-dark hover:border-primary hover:text-primary transition-colors" type="button" data-action="reports-range" data-range="last-30">
                  <span class="material-symbols-outlined text-lg">query_stats</span>
                  Últimos 30 días
                </button>
                <button class="flex items-center gap-2 rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark px-3 py-2 text-sm font-medium text-subtext-light dark:text-subtext-dark hover:border-primary hover:text-primary transition-colors" type="button" data-action="reports-range" data-range="custom">
                  <span class="material-symbols-outlined text-lg">date_range</span>
                  Rango personalizado
                </button>
              </div>
            </div>
            <section class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4" data-reports-metrics></section>
            <section class="grid grid-cols-1 gap-6 lg:grid-cols-2">
              <div class="flex flex-col gap-4 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-6" data-reports-chart="sessions">
                <div class="flex flex-col">
                  <p class="text-lg font-semibold text-text-light dark:text-text-dark">Sesiones Completadas vs. No-shows</p>
                  <p class="text-sm text-subtext-light dark:text-subtext-dark" data-chart-subtitle="sessions">Evolución en los últimos 30 días</p>
                </div>
                <div class="flex min-h-[250px] items-center justify-center" data-chart-visual="sessions">
                  <svg class="h-full" fill="none" preserveAspectRatio="none" viewBox="0 0 475 150" width="100%" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 109C18.1538 109 18.1538 21 36.3077 21C54.4615 21 54.4615 41 72.6154 41C90.7692 41 90.7692 93 108.923 93C127.077 93 127.077 33 145.231 33C163.385 33 163.385 101 181.538 101C199.692 101 199.692 61 217.846 61C236 61 236 45 254.154 45C272.308 45 272.308 121 290.462 121C308.615 121 308.615 149 326.769 149C344.923 149 344.923 1 363.077 1C381.231 1 381.231 81 399.385 81C417.538 81 417.538 129 435.692 129C453.846 129 453.846 25 472 25V149H0V109Z" fill="url(#paint0_linear_chart)"></path>
                    <path d="M0 109C18.1538 109 18.1538 21 36.3077 21C54.4615 21 54.4615 41 72.6154 41C90.7692 41 90.7692 93 108.923 93C127.077 93 127.077 33 145.231 33C163.385 33 163.385 101 181.538 101C199.692 101 199.692 61 217.846 61C236 61 236 45 254.154 45C272.308 45 272.308 121 290.462 121C308.615 121 308.615 149 326.769 149C344.923 149 344.923 1 363.077 1C381.231 1 381.231 81 399.385 81C417.538 81 417.538 129 435.692 129C453.846 129 453.846 25 472 25" stroke="#3B82F6" stroke-linecap="round" stroke-width="3"></path>
                    <defs>
                      <linearGradient gradientUnits="userSpaceOnUse" id="paint0_linear_chart" x1="236" x2="236" y1="1" y2="149">
                        <stop stop-color="#3B82F6" stop-opacity="0.2"></stop>
                        <stop offset="1" stop-color="#3B82F6" stop-opacity="0"></stop>
                      </linearGradient>
                    </defs>
                  </svg>
                </div>
                <div class="flex justify-between -mt-2 text-xs font-medium text-subtext-light dark:text-subtext-dark">
                  <span>Sem 1</span>
                  <span>Sem 2</span>
                  <span>Sem 3</span>
                  <span>Sem 4</span>
                </div>
              </div>
              <div class="flex flex-col gap-4 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-6" data-reports-chart="adherence">
                <div class="flex flex-col">
                  <p class="text-lg font-semibold text-text-light dark:text-text-dark">Adherencia al Tratamiento</p>
                  <p class="text-sm text-subtext-light dark:text-subtext-dark" data-chart-subtitle="adherence">Comparativa mensual</p>
                </div>
                <div class="grid min-h-[250px] grid-flow-col gap-5 grid-rows-[1fr_auto] items-end justify-items-center px-3" data-chart-visual="adherence"></div>
              </div>
            </section>
            <section>
              <div class="flex flex-col rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark">
                <div class="p-6 border-b border-border-light dark:border-border-dark">
                  <h3 class="text-lg font-semibold text-text-light dark:text-text-dark">Pacientes con baja adherencia</h3>
                  <p class="text-sm text-subtext-light dark:text-subtext-dark">Lista de pacientes con más de 2 inasistencias en el periodo seleccionado.</p>
                </div>
                <div class="overflow-x-auto">
                  <table class="min-w-full divide-y divide-border-light dark:divide-border-dark">
                    <thead class="bg-background-light dark:bg-background-dark">
                      <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-subtext-light dark:text-subtext-dark uppercase tracking-wider" scope="col">Paciente</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-subtext-light dark:text-subtext-dark uppercase tracking-wider" scope="col">Fisioterapeuta</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-subtext-light dark:text-subtext-dark uppercase tracking-wider" scope="col">Sesiones Programadas</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-subtext-light dark:text-subtext-dark uppercase tracking-wider" scope="col">Inasistencias</th>
                        <th class="relative px-6 py-3" scope="col"><span class="sr-only">Ver</span></th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-border-light dark:divide-border-dark" data-reports-low-adherence></tbody>
                  </table>
                </div>
              </div>
            </section>
          </div>
        </main>
      </div>
    </div>
    <script src="../assets/js/mock-data.js" defer></script>
    <script src="../assets/js/app.js" defer></script>
  </body>
</html>
